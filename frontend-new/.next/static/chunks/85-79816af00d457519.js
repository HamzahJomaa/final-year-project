"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{529:function(e,n,r){r.d(n,{Dy:function(){return u},zM:function(){return d},Ot:function(){return h},Qh:function(){return v},eP:function(){return p},iQ:function(){return f},Ai:function(){return x},xe:function(){return m},iw:function(){return j},w8:function(){return g}});var t=r(4051),a=r.n(t),s=r(9669),i=r.n(s),c=r(8498);function o(e,n,r,t,a,s,i){try{var c=e[s](i),o=c.value}catch(l){return void r(l)}c.done?n(o):Promise.resolve(o).then(t,a)}function l(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function i(e){o(s,t,a,i,c,"next",e)}function c(e){o(s,t,a,i,c,"throw",e)}i(void 0)}))}}var u=function(){var e=l(a().mark((function e(n){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,t=n.token,e.next=3,i().get("".concat(c.A,"/review/user"),{headers:{"x-access-token":t,user:r}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=function(){var e=l(a().mark((function e(n){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.review,t=n.token,e.next=3,i().post("".concat(c.A,"/review/add"),{review:r},{headers:{"x-access-token":t}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=l(a().mark((function e(n){var r,t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.profile,t=n.ref,s=n.token,e.next=3,i().get("".concat(c.A,"/profile/ticket"),{headers:{"x-access-token":s,userid:r,ref:t}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=l(a().mark((function e(n){var r,t,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.StreamModel,t=n.Stream,s=n.userId,o=n.token,e.next=3,i().patch("".concat(c.A,"/profile/ticket"),{userId:s,Stream:t,StreamModel:r},{headers:{"x-access-token":o}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=l(a().mark((function e(n){var r,t,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.StreamModel,t=n.Stream,s=n.userId,o=n.token,e.next=3,i().post("".concat(c.A,"/stream/visit"),{StreamModel:r,Stream:t,userId:s},{headers:{"x-access-token":o}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(c.A,"/nationality"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=l(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.userId,e.next=3,i().get("".concat(c.A,"/profile/").concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=l(a().mark((function e(n,r,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(c.A,"/stream/").concat(n,"/").concat(t,"/").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),j=function(){var e=l(a().mark((function e(n,r,t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(c.A,"/review/ref/").concat(r,"/").concat(t),{headers:{ref:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),g=(function(){var e=l(a().mark((function e(n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(c.A,"/stream/").concat(n,"/id/").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))}(),function(){var e=l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i().get("".concat(c.A,"/homepage"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}())},5705:function(e,n,r){var t=r(5893);r(7294);n.Z=function(e){var n=e.type,r=e.title,a=e.location,s=e.bgimg;return(0,t.jsx)("div",{className:"hero ".concat(n),style:{background:"url('".concat("common-hero"==n||"user-hero"==n?"":"https://image.tmdb.org/t/p/w1920_and_h800_multi_faces","/").concat(s,"')")},children:(0,t.jsx)("div",{className:"container",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"hero-ct",children:[(0,t.jsx)("h1",{children:r}),(0,t.jsxs)("ul",{className:"breadcumb",children:[a?a.map((function(e,n){if(n!==a.length-1)return(0,t.jsxs)("li",{className:"active",children:[(0,t.jsx)("a",{href:"#",children:e}),(0,t.jsx)("span",{className:"ion-ios-arrow-right"})]})})):"",(0,t.jsx)("li",{children:a&&a[a.length-1]})]})]})})})})})}},2180:function(e,n,r){var t=r(5893),a=(r(7294),r(5059));n.Z=function(e){var n,r,s=e.last_review;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"title-hd-sm",children:[(0,t.jsx)("h4",{children:"Reviews"}),(0,t.jsxs)("a",{href:"#",className:"time",children:["Full Cast & Crew ",(0,t.jsx)("i",{className:"ion-ios-arrow-right"})]})]}),(0,t.jsx)("div",{className:"mvcast-item",children:(0,t.jsxs)("div",{className:"mv-user-review-item",children:[(0,t.jsx)("h3",{children:null===s||void 0===s?void 0:s.title}),(0,t.jsxs)("div",{className:"no-star",children:[(0,t.jsx)("i",{className:"ion-android-star ".concat((null===s||void 0===s?void 0:s.rate)>=1?"":"last")}),(0,t.jsx)("i",{className:"ion-android-star ".concat((null===s||void 0===s?void 0:s.rate)>=2?"":"last")}),(0,t.jsx)("i",{className:"ion-android-star ".concat((null===s||void 0===s?void 0:s.rate)>=3?"":"last")}),(0,t.jsx)("i",{className:"ion-android-star ".concat((null===s||void 0===s?void 0:s.rate)>=4?"":"last")}),(0,t.jsx)("i",{className:"ion-android-star ".concat((null===s||void 0===s?void 0:s.rate)>=5?"":"last")})]}),(0,t.jsxs)("p",{className:"time",children:[(0,a.Nd)(null===s||void 0===s?void 0:s.createdAt)," ",(0,t.jsxs)("a",{href:"#",children:[" ","".concat(null===s||void 0===s||null===(n=s.userId)||void 0===n?void 0:n.firstName," ").concat(null===s||void 0===s||null===(r=s.userId)||void 0===r?void 0:r.lastName)]})]}),(0,t.jsx)("p",{children:null===s||void 0===s?void 0:s.body})]})})]})}},5541:function(e,n,r){var t=r(5893),a=(r(7294),r(5059));n.Z=function(e){var n=e.recommendation;return(0,t.jsx)("div",{id:"moviesrelated",className:"tab",children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("h3",{children:"Related Movies To"}),(0,t.jsx)("h2",{children:"Skyfall: Quantum of Spectre"}),(0,t.jsxs)("div",{className:"topbar-filter",children:[(0,t.jsxs)("p",{children:["Found ",(0,t.jsxs)("span",{children:[n.length," movies"]})," in total"]}),(0,t.jsx)("label",{children:"Sort by:"}),(0,t.jsxs)("select",{children:[(0,t.jsx)("option",{value:"popularity",children:"Popularity Descending"}),(0,t.jsx)("option",{value:"popularity",children:"Popularity Ascending"}),(0,t.jsx)("option",{value:"rating",children:"Rating Descending"}),(0,t.jsx)("option",{value:"rating",children:"Rating Ascending"}),(0,t.jsx)("option",{value:"date",children:"Release date Descending"}),(0,t.jsx)("option",{value:"date",children:"Release date Ascending"})]})]}),n.length>0?n.map((function(e,n){return(0,t.jsxs)("div",{className:"movie-item-style-2",children:[(0,t.jsx)("img",{src:"https://image.tmdb.org/t/p/w342/".concat(e.poster_path),alt:""}),(0,t.jsxs)("div",{className:"mv-item-infor",children:[(0,t.jsx)("h6",{children:(0,t.jsx)("a",{href:"#",children:e.title})}),(0,t.jsxs)("p",{className:"rate",children:[(0,t.jsx)("i",{className:"ion-android-star"}),(0,t.jsx)("span",{children:e.vote_count})," /5"]}),(0,t.jsx)("p",{className:"describe",children:(0,a.pb)(e.overview,30)}),(0,t.jsxs)("p",{className:"run-time",children:[" Run Time: 2h21\u2019 . ",(0,t.jsx)("span",{children:"MMPA: PG-13 "})," . ",(0,t.jsxs)("span",{children:["Release: ",(0,a.Nd)(new Date(e.release_date))]})]}),(0,t.jsxs)("p",{children:["Director: ",(0,t.jsx)("a",{href:"#",children:"Joss Whedon"})]}),(0,t.jsxs)("p",{children:["Stars: ",(0,t.jsx)("a",{href:"#",children:"Robert Downey Jr.,"})," ",(0,t.jsx)("a",{href:"#",children:"Chris Evans,"})," ",(0,t.jsx)("a",{href:"#",children:" Chris Hemsworth"})]})]})]},n)})):"",(0,t.jsxs)("div",{className:"topbar-filter",children:[(0,t.jsx)("label",{children:"Movies per page:"}),(0,t.jsxs)("select",{children:[(0,t.jsx)("option",{value:"range",children:"5 Movies"}),(0,t.jsx)("option",{value:"saab",children:"10 Movies"})]}),(0,t.jsxs)("div",{className:"pagination2",children:[(0,t.jsx)("span",{children:"Page 1 of 2:"}),(0,t.jsx)("a",{className:"active",href:"#",children:"1"}),(0,t.jsx)("a",{href:"#",children:"2"}),(0,t.jsx)("a",{href:"#",children:(0,t.jsx)("i",{className:"ion-arrow-right-b"})})]})]})]})})}},7516:function(e,n,r){r.d(n,{Z:function(){return k}});var t=r(4051),a=r.n(t),s=r(5893),i=r(7294),c=r(5059),o=r(529),l=r(5054),u=r(7357),d=r(3321),h=r(5861),v=r(7450),p=r(9584),f=r(9333),x=r(6886),m=r(1163);function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function g(e,n,r,t,a,s,i){try{var c=e[s](i),o=c.value}catch(l){return void r(l)}c.done?n(o):Promise.resolve(o).then(t,a)}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,s=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(s.push(t.value),!n||s.length!==n);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return s}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return j(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},N=function(e){var n,r,t=e.on,c=e.onModel,l=(e.reviewAdded,(0,m.useRouter)()),j=w(i.useState(!1),2),N=j[0],y=j[1],k=w(i.useState(3),2),A=k[0],M=k[1],S=w(i.useState(""),2),R=S[0],P=S[1],Z=w(i.useState(""),2),C=Z[0],I=Z[1];n=localStorage.getItem("id"),r=localStorage.getItem("token");var _=function(){var e,s=(e=a().mark((function e(){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={userId:n,title:C,on:t,onModel:c,rate:A,body:R},e.prev=1,e.next=4,(0,o.zM)({review:s,token:r});case 4:200===e.sent.status?(y(!1),l.reload("#reviews")):setStatus("An Error Occured"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function i(e){g(s,t,a,i,c,"next",e)}function c(e){g(s,t,a,i,c,"throw",e)}i(void 0)}))});return function(){return s.apply(this,arguments)}}();return(0,s.jsxs)(s.Fragment,{children:[n&&(0,s.jsx)(d.Z,{className:"redbtn",onClick:function(){return y(!0)},children:"Write Review"}),(0,s.jsx)(v.Z,{open:N,onClose:function(){return y(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,s.jsx)(u.Z,{sx:b,children:(0,s.jsxs)(x.ZP,{container:!0,spacing:3,children:[(0,s.jsxs)(x.ZP,{item:!0,xs:12,children:[(0,s.jsx)(h.Z,{component:"legend",children:"Review Rate"}),(0,s.jsx)(p.Z,{name:"simple-controlled",value:A,onChange:function(e,n){M(n)}})]}),(0,s.jsx)(x.ZP,{item:!0,xs:12,children:(0,s.jsx)(f.Z,{label:"Review Title",multiline:!0,fullWidth:!0,value:C,onChange:function(e){return I(e.target.value)},variant:"standard"})}),(0,s.jsx)(x.ZP,{item:!0,xs:12,children:(0,s.jsx)(f.Z,{label:"Review Body",multiline:!0,maxRows:10,fullWidth:!0,value:R,onChange:function(e){return P(e.target.value)},variant:"standard"})}),(0,s.jsx)(x.ZP,{item:!0,xs:12,children:(0,s.jsx)(d.Z,{fullWidth:!0,onClick:_,className:"redbtn",children:"Write Review"})})]})})})]})};function y(e,n,r,t,a,s,i){try{var c=e[s](i),o=c.value}catch(l){return void r(l)}c.done?n(o):Promise.resolve(o).then(t,a)}var k=function(e){var n,r=e.id,t=e.title,u=e.review_count,d=(0,i.useState)([]),h=d[0],v=d[1],p=(0,i.useState)(20),f=p[0],x=p[1],m=(0,i.useState)(1),j=m[0],g=m[1],w=function(){console.log("Review Added")};return(0,i.useEffect)((n=a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,(0,o.iw)(r,f,j);case 4:t=e.sent,v(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.statusMessage),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var e=this,r=arguments;return new Promise((function(t,a){var s=n.apply(e,r);function i(e){y(s,t,a,i,c,"next",e)}function c(e){y(s,t,a,i,c,"throw",e)}i(void 0)}))}),[f,j,w]),(0,s.jsx)("div",{id:"reviews",className:"tab review",children:(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"rv-hd",children:[(0,s.jsxs)("div",{className:"div",children:[(0,s.jsx)("h3",{children:"Related Movies To"}),(0,s.jsx)("h2",{children:t})]}),(0,s.jsx)(N,{on:r,onModel:"Movies",reviewAdded:w})]}),(0,s.jsxs)("div",{className:"topbar-filter",children:[(0,s.jsxs)("p",{children:["Found ",(0,s.jsxs)("span",{children:[null===h||void 0===h?void 0:h.length," reviews"]})," in total"]}),(0,s.jsx)("label",{children:"Filter by:"}),(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{value:"popularity",children:"Popularity Descending"}),(0,s.jsx)("option",{value:"popularity",children:"Popularity Ascending"}),(0,s.jsx)("option",{value:"rating",children:"Rating Descending"}),(0,s.jsx)("option",{value:"rating",children:"Rating Ascending"}),(0,s.jsx)("option",{value:"date",children:"Release date Descending"}),(0,s.jsx)("option",{value:"date",children:"Release date Ascending"})]})]}),(null===h||void 0===h?void 0:h.length)>0?h.map((function(e){return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"mv-user-review-item",children:[(0,s.jsx)("h3",{children:e.title}),(0,s.jsxs)("div",{className:"no-star",children:[(0,s.jsx)("i",{className:"ion-android-star ".concat(e.rate>=1?"":"last")}),(0,s.jsx)("i",{className:"ion-android-star ".concat(e.rate>=2?"":"last")}),(0,s.jsx)("i",{className:"ion-android-star ".concat(e.rate>=3?"":"last")}),(0,s.jsx)("i",{className:"ion-android-star ".concat(e.rate>=4?"":"last")}),(0,s.jsx)("i",{className:"ion-android-star ".concat(e.rate>=5?"":"last")})]}),(0,s.jsxs)("p",{className:"time",children:[(0,c.Nd)(e.createdAt)," ",(0,s.jsxs)("a",{href:"#",children:[" ","".concat(e.userId.firstName," ").concat(e.userId.lastName)]})]}),(0,s.jsx)("p",{children:e.body})]},e._id)})})):(0,s.jsx)("h5",{style:{color:"white"},children:"No Reviews Available"}),(0,s.jsxs)("div",{className:"topbar-filter",children:[(0,s.jsx)("label",{children:"Movies per page:"}),(0,s.jsxs)("select",{onChange:function(e){x(parseInt(e.target.value))},children:[(0,s.jsx)("option",{value:"1",children:"1 Movies"}),(0,s.jsx)("option",{value:"10",children:"10 Movies"}),(0,s.jsx)("option",{value:"15",children:"15 Movies"}),(0,s.jsx)("option",{selected:!0,value:"20",children:"20 Movies"}),(0,s.jsx)("option",{value:"25",children:"25 Movies"}),(0,s.jsx)("option",{value:"50",children:"50 Movies"}),(0,s.jsx)("option",{value:"100",children:"100 Movies"})]}),(0,s.jsxs)("div",{className:"pagination2",children:[(0,s.jsxs)("span",{children:["Page 1 of ",(u/f).toFixed(0)||1,":"]}),(0,s.jsx)(l.Z,{size:"small",style:{color:"red"},count:10,page:j,onChange:function(e,n){g(n)}})]})]})]})})}},5059:function(e,n,r){r.d(n,{Eg:function(){return t},pb:function(){return a},Nd:function(){return s}});var t=function(e){return e.toLowerCase().replaceAll(" ","_")},a=function(e,n){return(e?e.replace(/<[^>]+>/g,""):"").split(" ").splice(0,n).join(" ")},s=function(e){var n=(e=new Date(e)).getDate(),r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],t=e.getFullYear();return"".concat(n," ").concat(r," ").concat(t)}}}]);